{"version":3,"sources":["FileInput.js","Show.js","Viewer.js","App.js","index.js"],"names":["FileInput","react_default","a","createElement","className","id","type","onChange","this","props","htmlFor","Component","tumblr_re","Iframe","_ref","src","title","restProps","Object","objectWithoutProperties","assign","frameBorder","scrolling","Strategy","_ref2","url","host","pathname","slice","Show_Iframe","protocol","replace","test","style","backgroundImage","concat","href","backgroundRepeat","backgroundPosition","backgroundSize","origin","match","searchParams","get","split","Show","_ref3","link","URL","Show_Strategy","shuffled","inp","arr","i","length","j","Math","floor","random","Viewer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","next","_this$state","state","pos","q","setState","min","prev","max","shuffle","links","_this$state2","disabled","onClick","key","App","handleChange","evt","fr","readAsText","target","files","FileReader","addEventListener","file","result","map","row","backgroundColor","width","height","display","justifyContent","alignItems","FileInput_FileInput","Viewer_Viewer","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.d91a7c91.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./FileInput.css\";\n\nconst PINK = \"rgb(255,92,148)\";\n\nexport default class FileInput extends Component {\n  render() {\n    return (\n      <div className=\"file-input-container\">\n        <h1>BFV</h1>\n        <input id=\"file-input\" type=\"file\" onChange={this.props.onChange} />\n        <label htmlFor=\"file-input\">Choose a file</label>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nconst tumblr_re = /^\\d+?\\.media\\.tumblr\\.com$/;\n\nconst Iframe = ({ src, title, ...restProps }) => (\n  <iframe\n    title={title}\n    src={src}\n    frameBorder=\"0\"\n    scrolling=\"no\"\n    {...restProps}\n  />\n);\n\nconst Strategy = ({ url }) => {\n  switch (true) {\n    case url.host === \"i.imgur.com\":\n      if (url.pathname.slice(0, 3) === \"/a/\") {\n        return (\n          <Iframe\n            title=\"imgur\"\n            src={\n              url.protocol +\n              \"//imgur.com/\" +\n              url.pathname.slice(1).replace(\".jpg\", \"\") +\n              \"/embed?pub=true\"\n            }\n          />\n        );\n      }\n    // eslint-disable-next-line -- FALLTHROUGH\n    case tumblr_re.test(url.host):\n      return (\n        <div\n          style={{\n            backgroundImage: `url(${url.href})`,\n            backgroundRepeat: \"no-repeat\",\n            backgroundPosition: \"center\",\n            backgroundSize: \"contain\"\n          }}\n        />\n      );\n    case url.host === \"gfycat.com\":\n      return <Iframe title=\"gfycat\" src={url.origin + \"/ifr\" + url.pathname} />;\n    case url.host === \"www.xvideos.com\":\n      return (\n        <Iframe\n          title=\"xvideos\"\n          src={\n            url.origin +\n            \"/embedframe/\" +\n            url.pathname.match(/\\/video(\\d+)\\//)[1]\n          }\n        />\n      );\n    case url.host === \"www.pornhub.com\":\n      return (\n        <Iframe\n          title=\"pornhub\"\n          src={url.origin + \"/embed/\" + url.searchParams.get(\"viewkey\")}\n        />\n      );\n    case url.host === \"xhamster.com\":\n      return (\n        <Iframe\n          title=\"xhamster\"\n          src={url.origin + \"/embed/\" + url.pathname.split(\"/\")[2]}\n        />\n      );\n    default:\n      return <Iframe title=\"default\" src={url.href} />;\n  }\n};\n\nexport default function Show({ link }) {\n  const url = new URL(link);\n  return <Strategy url={url} />;\n}\n","import React, { Component } from \"react\";\nimport Show from \"./Show\";\nimport \"./Viewer.css\";\n\nfunction shuffled(inp) {\n  const arr = inp.slice();\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr;\n}\n\nexport default class Viewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      q: shuffled(props.links),\n      pos: 0\n    };\n  }\n\n  next = () => {\n    const { pos, q } = this.state;\n    this.setState({ pos: Math.min(pos + 1, q.length - 1) });\n  };\n\n  prev = () => {\n    const { pos } = this.state;\n    this.setState({ pos: Math.max(pos - 1, 0) });\n  };\n\n  shuffle = () => {\n    this.setState({ pos: 0, q: shuffled(this.state.q) });\n  };\n\n  render() {\n    const { q, pos } = this.state;\n    return (\n      <div className=\"viewer-container\">\n        <div className=\"button-container\">\n          <button disabled={pos === 0} onClick={this.prev}>\n            Previous\n          </button>\n          <button onClick={this.shuffle}>Shuffle</button>\n          <button disabled={pos === q.length - 1} onClick={this.next}>\n            Next\n          </button>\n        </div>\n        <div className=\"item-container\">\n          <Show key={q[pos]} link={q[pos]} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport FileInput from \"./FileInput\";\nimport Viewer from \"./Viewer\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.fr = new FileReader();\n    this.fr.addEventListener(\"loadend\", () => {\n      const file = this.fr.result\n        .split(\"\\n\")\n        .map(row => row.split(\",\")[1])\n        .slice(1);\n      this.setState({ file });\n    });\n    this.state = { file: null };\n  }\n\n  handleChange = evt => this.fr.readAsText(evt.target.files[0]);\n\n  render() {\n    if (this.state.file === null) {\n      return (\n        <div\n          style={{\n            backgroundColor: \"black\",\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <FileInput onChange={this.handleChange} />\n        </div>\n      );\n    }\n    return <Viewer links={this.state.file} />;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}